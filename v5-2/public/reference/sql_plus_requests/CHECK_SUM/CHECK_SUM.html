<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <title>CHECK_SUM - Документация</title> <link rel="shortcut icon" href="/docs_prostore_archive/favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="/docs_prostore_archive/assets/css/just-the-docs-default.css"> <script type="text/javascript" src="/docs_prostore_archive/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="/docs_prostore_archive/assets/js/vendor/lunr.stemmer.support.min.js"></script> <script type="text/javascript" src="/docs_prostore_archive/assets/js/vendor/lunr.ru.min.js"></script> <script type="text/javascript" src="/docs_prostore_archive/assets/js/vendor/lunr.multi.min.js"></script> <script type="text/javascript" src="/docs_prostore_archive/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.7.1 --> <title>CHECK_SUM | Документация</title> <meta name="generator" content="Jekyll v3.9.0" /> <meta property="og:title" content="CHECK_SUM" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="A Jekyll theme for documentation" /> <meta property="og:description" content="A Jekyll theme for documentation" /> <link rel="canonical" href="https://datamarts.github.io/docs_prostore_archive/reference/sql_plus_requests/CHECK_SUM/CHECK_SUM.html" /> <meta property="og:url" content="https://datamarts.github.io/docs_prostore_archive/reference/sql_plus_requests/CHECK_SUM/CHECK_SUM.html" /> <meta property="og:site_name" content="Документация" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="CHECK_SUM" /> <script type="application/ld+json"> {"headline":"CHECK_SUM","url":"https://datamarts.github.io/docs_prostore_archive/reference/sql_plus_requests/CHECK_SUM/CHECK_SUM.html","@type":"WebPage","description":"A Jekyll theme for documentation","@context":"https://schema.org"}</script> <!-- End Jekyll SEO tag --> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header"> <a href="https://datamarts.github.io/docs_prostore_archive/" class="site-title lh-tight"> Документация </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a> </div> <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://datamarts.github.io/docs_prostore_archive/introduction/introduction.html" class="nav-list-link">Введение</a><ul class="nav-list "><li class="nav-list-item "><a href="https://datamarts.github.io/docs_prostore_archive/introduction/terms/terms.html" class="nav-list-link">Термины и определения</a></li><li class="nav-list-item "><a href="https://datamarts.github.io/docs_prostore_archive/introduction/supported_DBMS/supported_DBMS.html" class="nav-list-link">Поддерживаемые СУБД хранилища</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://datamarts.github.io/docs_prostore_archive/overview/overview.html" class="nav-list-link">Обзор понятий, компонентов и связей</a><ul class="nav-list "><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://datamarts.github.io/docs_prostore_archive/overview/main_concepts/main_concepts.html" class="nav-list-link">Основные понятия</a><ul class="nav-list"><li class="nav-list-item "> <a href="https://datamarts.github.io/docs_prostore_archive/overview/main_concepts/logical_schema/logical_schema.html" class="nav-list-link">Логическая схема данных</a> </li><li class="nav-list-item "> <a href="https://datamarts.github.io/docs_prostore_archive/overview/main_concepts/logical_db/logical_db.html" class="nav-list-link">Логическая база данных</a> </li><li class="nav-list-item "> <a href="https://datamarts.github.io/docs_prostore_archive/overview/main_concepts/environment/environment.html" class="nav-list-link">Окружение</a> </li><li class="nav-list-item "> <a href="https://datamarts.github.io/docs_prostore_archive/overview/main_concepts/logical_table/logical_table.html" class="nav-list-link">Логическая таблица</a> </li><li class="nav-list-item "> <a href="https://datamarts.github.io/docs_prostore_archive/overview/main_concepts/logical_view/logical_view.html" class="nav-list-link">Логическое представление</a> </li><li class="nav-list-item "> <a href="https://datamarts.github.io/docs_prostore_archive/overview/main_concepts/materialized_view/materialized_view.html" class="nav-list-link">Материализованное представление</a> </li><li class="nav-list-item "> <a href="https://datamarts.github.io/docs_prostore_archive/overview/main_concepts/external_table/external_table.html" class="nav-list-link">Внешняя таблица</a> </li><li class="nav-list-item "> <a href="https://datamarts.github.io/docs_prostore_archive/overview/main_concepts/data_storage/data_storage.html" class="nav-list-link">Хранилище данных</a> </li><li class="nav-list-item "> <a href="https://datamarts.github.io/docs_prostore_archive/overview/main_concepts/service_db/service_db.html" class="nav-list-link">Сервисная база данных</a> </li><li class="nav-list-item "> <a href="https://datamarts.github.io/docs_prostore_archive/overview/main_concepts/physical_schema/physical_schema.html" class="nav-list-link">Физическая схема данных</a> </li><li class="nav-list-item "> <a href="https://datamarts.github.io/docs_prostore_archive/overview/main_concepts/physical_table/physical_table.html" class="nav-list-link">Физическая таблица</a> </li><li class="nav-list-item "> <a href="https://datamarts.github.io/docs_prostore_archive/overview/main_concepts/write_operation/write_operation.html" class="nav-list-link">Операция записи</a> </li><li class="nav-list-item "> <a href="https://datamarts.github.io/docs_prostore_archive/overview/main_concepts/delta/delta.html" class="nav-list-link">Дельта</a> </li><li class="nav-list-item "> <a href="https://datamarts.github.io/docs_prostore_archive/overview/main_concepts/changelog/changelog.html" class="nav-list-link">Журнал</a> </li></ul></li><li class="nav-list-item "><a href="https://datamarts.github.io/docs_prostore_archive/overview/components/components.html" class="nav-list-link">Компоненты системы</a></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://datamarts.github.io/docs_prostore_archive/overview/interactions/interactions.html" class="nav-list-link">Связи с другими системами и компонентами</a><ul class="nav-list"><li class="nav-list-item "> <a href="https://datamarts.github.io/docs_prostore_archive/overview/interactions/ddl_processing/ddl_processing.html" class="nav-list-link">Порядок обработки запросов на обновление логической схемы</a> </li><li class="nav-list-item "> <a href="https://datamarts.github.io/docs_prostore_archive/overview/interactions/upload_processing/upload_processing.html" class="nav-list-link">Порядок обработки запросов на загрузку данных</a> </li><li class="nav-list-item "> <a href="https://datamarts.github.io/docs_prostore_archive/overview/interactions/llw_processing/llw_processing.html" class="nav-list-link">Порядок обработки запросов на обновление данных</a> </li><li class="nav-list-item "> <a href="https://datamarts.github.io/docs_prostore_archive/overview/interactions/download_processing/download_processing.html" class="nav-list-link">Порядок обработки запросов на выгрузку данных</a> </li><li class="nav-list-item "> <a href="https://datamarts.github.io/docs_prostore_archive/overview/interactions/llr_processing/llr_processing.html" class="nav-list-link">Порядок обработки запросов на чтение данных</a> </li><li class="nav-list-item "> <a href="https://datamarts.github.io/docs_prostore_archive/overview/interactions/restart_processing/restart_processing.html" class="nav-list-link">Порядок перезапуска системы</a> </li></ul></li></ul></li><li class="nav-list-item"><a href="https://datamarts.github.io/docs_prostore_archive/getting_started/getting_started.html" class="nav-list-link">Сборка и развёртывание</a></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://datamarts.github.io/docs_prostore_archive/maintenance/maintenance.html" class="nav-list-link">Эксплуатация</a><ul class="nav-list "><li class="nav-list-item "><a href="https://datamarts.github.io/docs_prostore_archive/maintenance/system_requirements/system_requirements.html" class="nav-list-link">Минимальные системные требования</a></li><li class="nav-list-item "><a href="https://datamarts.github.io/docs_prostore_archive/maintenance/deployment_diagrams/deployment_diagrams.html" class="nav-list-link">Схемы развертывания</a></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://datamarts.github.io/docs_prostore_archive/maintenance/configuration/configuration.html" class="nav-list-link">Конфигурация</a><ul class="nav-list"><li class="nav-list-item "> <a href="https://datamarts.github.io/docs_prostore_archive/maintenance/configuration/system/system.html" class="nav-list-link">Конфигурация системы</a> </li><li class="nav-list-item "> <a href="https://datamarts.github.io/docs_prostore_archive/maintenance/configuration/connectors/connectors.html" class="nav-list-link">Конфигурация коннекторов</a> </li></ul></li><li class="nav-list-item "><a href="https://datamarts.github.io/docs_prostore_archive/maintenance/json_logs_configuration/json_logs_configuration.html" class="nav-list-link">Настройка JSON-логов</a></li><li class="nav-list-item "><a href="https://datamarts.github.io/docs_prostore_archive/maintenance/time_zones/time_zones.html" class="nav-list-link">Часовые пояса системы и компонентов</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://datamarts.github.io/docs_prostore_archive/working_with_system/working_with_system.html" class="nav-list-link">Работа с системой</a><ul class="nav-list "><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://datamarts.github.io/docs_prostore_archive/working_with_system/connection/connection.html" class="nav-list-link">Подключение</a><ul class="nav-list"><li class="nav-list-item "> <a href="https://datamarts.github.io/docs_prostore_archive/working_with_system/connection/connection_via_sql_client/connection_via_sql_client.html" class="nav-list-link">Подключение с помощью SQL-клиента</a> </li><li class="nav-list-item "> <a href="https://datamarts.github.io/docs_prostore_archive/working_with_system/connection/connection_via_code/connection_via_code.html" class="nav-list-link">Программное подключение</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://datamarts.github.io/docs_prostore_archive/working_with_system/logical_schema_update/logical_schema_update.html" class="nav-list-link">Управление схемой данных</a><ul class="nav-list"><li class="nav-list-item "> <a href="https://datamarts.github.io/docs_prostore_archive/working_with_system/logical_schema_update/create_db/create_db.html" class="nav-list-link">Создание логической базы данных</a> </li><li class="nav-list-item "> <a href="https://datamarts.github.io/docs_prostore_archive/working_with_system/logical_schema_update/drop_db/drop_db.html" class="nav-list-link">Удаление логической базы данных</a> </li><li class="nav-list-item "> <a href="https://datamarts.github.io/docs_prostore_archive/working_with_system/logical_schema_update/create_table/create_table.html" class="nav-list-link">Создание логической таблицы</a> </li><li class="nav-list-item "> <a href="https://datamarts.github.io/docs_prostore_archive/working_with_system/logical_schema_update/drop_table/drop_table.html" class="nav-list-link">Удаление логической таблицы</a> </li><li class="nav-list-item "> <a href="https://datamarts.github.io/docs_prostore_archive/working_with_system/logical_schema_update/create_view/create_view.html" class="nav-list-link">Создание логического представления</a> </li><li class="nav-list-item "> <a href="https://datamarts.github.io/docs_prostore_archive/working_with_system/logical_schema_update/alter_view/alter_view.html" class="nav-list-link">Изменение логического представления</a> </li><li class="nav-list-item "> <a href="https://datamarts.github.io/docs_prostore_archive/working_with_system/logical_schema_update/drop_view/drop_view.html" class="nav-list-link">Удаление логического представления</a> </li><li class="nav-list-item "> <a href="https://datamarts.github.io/docs_prostore_archive/working_with_system/logical_schema_update/create_materialized_view/create_materialized_view.html" class="nav-list-link">Создание материализованного представления</a> </li><li class="nav-list-item "> <a href="https://datamarts.github.io/docs_prostore_archive/working_with_system/logical_schema_update/drop_materialized_view/drop_materialized_view.html" class="nav-list-link">Удаление материализованного представления</a> </li><li class="nav-list-item "> <a href="https://datamarts.github.io/docs_prostore_archive/working_with_system/logical_schema_update/create_upload_table/create_upload_table.html" class="nav-list-link">Создание внешней таблицы загрузки</a> </li><li class="nav-list-item "> <a href="https://datamarts.github.io/docs_prostore_archive/working_with_system/logical_schema_update/drop_upload_table/drop_upload_table.html" class="nav-list-link">Удаление внешней таблицы загрузки</a> </li><li class="nav-list-item "> <a href="https://datamarts.github.io/docs_prostore_archive/working_with_system/logical_schema_update/create_download_table/create_download_table.html" class="nav-list-link">Создание внешней таблицы выгрузки</a> </li><li class="nav-list-item "> <a href="https://datamarts.github.io/docs_prostore_archive/working_with_system/logical_schema_update/drop_download_table/drop_download_table.html" class="nav-list-link">Удаление внешней таблицы выгрузки</a> </li><li class="nav-list-item "> <a href="https://datamarts.github.io/docs_prostore_archive/working_with_system/logical_schema_update/entity_presence_check/entity_presence_check.html" class="nav-list-link">Проверка наличия логической сущности</a> </li><li class="nav-list-item "> <a href="https://datamarts.github.io/docs_prostore_archive/working_with_system/logical_schema_update/request_from_schema/request_from_schema.html" class="nav-list-link">Запрос метаданных логической схемы</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://datamarts.github.io/docs_prostore_archive/working_with_system/data_upload/data_upload.html" class="nav-list-link">Загрузка данных</a><ul class="nav-list"><li class="nav-list-item "> <a href="https://datamarts.github.io/docs_prostore_archive/working_with_system/data_upload/data_versioning/data_versioning.html" class="nav-list-link">Версионирование данных</a> </li></ul></li><li class="nav-list-item "><a href="https://datamarts.github.io/docs_prostore_archive/working_with_system/data_update/data_update.html" class="nav-list-link">Обновление данных</a></li><li class="nav-list-item "><a href="https://datamarts.github.io/docs_prostore_archive/working_with_system/data_download/data_download.html" class="nav-list-link">Выгрузка данных</a></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://datamarts.github.io/docs_prostore_archive/working_with_system/data_reading/data_reading.html" class="nav-list-link">Запрос данных</a><ul class="nav-list"><li class="nav-list-item "> <a href="https://datamarts.github.io/docs_prostore_archive/working_with_system/data_reading/routing/routing.html" class="nav-list-link">Маршрутизация запросов к данным</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://datamarts.github.io/docs_prostore_archive/working_with_system/other_features/other_features.html" class="nav-list-link">Другие действия</a><ul class="nav-list"><li class="nav-list-item "> <a href="https://datamarts.github.io/docs_prostore_archive/working_with_system/other_features/default_db_set-up/default_db_set-up.html" class="nav-list-link">Определение логической БД по умолчанию</a> </li><li class="nav-list-item "> <a href="https://datamarts.github.io/docs_prostore_archive/working_with_system/other_features/troubleshooting/troubleshooting.html" class="nav-list-link">Разбор ошибок загрузки и обновления данных</a> </li><li class="nav-list-item "> <a href="https://datamarts.github.io/docs_prostore_archive/working_with_system/other_features/datasource_check/datasource_check.html" class="nav-list-link">Проверка месторасположения логической сущности</a> </li><li class="nav-list-item "> <a href="https://datamarts.github.io/docs_prostore_archive/working_with_system/other_features/query_estimation/query_estimation.html" class="nav-list-link">Получение информации о SELECT-запросе</a> </li></ul></li></ul></li><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://datamarts.github.io/docs_prostore_archive/reference/reference.html" class="nav-list-link">Справочная информация</a><ul class="nav-list "><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://datamarts.github.io/docs_prostore_archive/reference/sql_plus_requests/sql_plus_requests.html" class="nav-list-link">Запросы SQL+</a><ul class="nav-list"><li class="nav-list-item "> <a href="https://datamarts.github.io/docs_prostore_archive/reference/sql_plus_requests/ALLOW_CHANGES/ALLOW_CHANGES.html" class="nav-list-link">ALLOW_CHANGES</a> </li><li class="nav-list-item "> <a href="https://datamarts.github.io/docs_prostore_archive/reference/sql_plus_requests/ALTER_VIEW/ALTER_VIEW.html" class="nav-list-link">ALTER VIEW</a> </li><li class="nav-list-item "> <a href="https://datamarts.github.io/docs_prostore_archive/reference/sql_plus_requests/BEGIN_DELTA/BEGIN_DELTA.html" class="nav-list-link">BEGIN DELTA</a> </li><li class="nav-list-item "> <a href="https://datamarts.github.io/docs_prostore_archive/reference/sql_plus_requests/CHECK_DATA/CHECK_DATA.html" class="nav-list-link">CHECK_DATA</a> </li><li class="nav-list-item "> <a href="https://datamarts.github.io/docs_prostore_archive/reference/sql_plus_requests/CHECK_DATABASE/CHECK_DATABASE.html" class="nav-list-link">CHECK_DATABASE</a> </li><li class="nav-list-item "> <a href="https://datamarts.github.io/docs_prostore_archive/reference/sql_plus_requests/CHECK_MATERIALIZED_VIEW/CHECK_MATERIALIZED_VIEW.html" class="nav-list-link">CHECK_MATERIALIZED_VIEW</a> </li><li class="nav-list-item active"> <a href="https://datamarts.github.io/docs_prostore_archive/reference/sql_plus_requests/CHECK_SUM/CHECK_SUM.html" class="nav-list-link active">CHECK_SUM</a> </li><li class="nav-list-item "> <a href="https://datamarts.github.io/docs_prostore_archive/reference/sql_plus_requests/CHECK_TABLE/CHECK_TABLE.html" class="nav-list-link">CHECK_TABLE</a> </li><li class="nav-list-item "> <a href="https://datamarts.github.io/docs_prostore_archive/reference/sql_plus_requests/CHECK_VERSIONS/CHECK_VERSIONS.html" class="nav-list-link">CHECK_VERSIONS</a> </li><li class="nav-list-item "> <a href="https://datamarts.github.io/docs_prostore_archive/reference/sql_plus_requests/COMMIT_DELTA/COMMIT_DELTA.html" class="nav-list-link">COMMIT DELTA</a> </li><li class="nav-list-item "> <a href="https://datamarts.github.io/docs_prostore_archive/reference/sql_plus_requests/CONFIG_SHOW/CONFIG_SHOW.html" class="nav-list-link">CONFIG_SHOW</a> </li><li class="nav-list-item "> <a href="https://datamarts.github.io/docs_prostore_archive/reference/sql_plus_requests/CONFIG_STORAGE_ADD/CONFIG_STORAGE_ADD.html" class="nav-list-link">CONFIG_STORAGE_ADD</a> </li><li class="nav-list-item "> <a href="https://datamarts.github.io/docs_prostore_archive/reference/sql_plus_requests/CREATE_DATABASE/CREATE_DATABASE.html" class="nav-list-link">CREATE DATABASE</a> </li><li class="nav-list-item "> <a href="https://datamarts.github.io/docs_prostore_archive/reference/sql_plus_requests/CREATE_DOWNLOAD_EXTERNAL_TABLE/CREATE_DOWNLOAD_EXTERNAL_TABLE.html" class="nav-list-link">CREATE DOWNLOAD EXTERNAL TABLE</a> </li><li class="nav-list-item "> <a href="https://datamarts.github.io/docs_prostore_archive/reference/sql_plus_requests/CREATE_MATERIALIZED_VIEW/CREATE_MATERIALIZED_VIEW.html" class="nav-list-link">CREATE MATERIALIZED VIEW</a> </li><li class="nav-list-item "> <a href="https://datamarts.github.io/docs_prostore_archive/reference/sql_plus_requests/CREATE_TABLE/CREATE_TABLE.html" class="nav-list-link">CREATE TABLE</a> </li><li class="nav-list-item "> <a href="https://datamarts.github.io/docs_prostore_archive/reference/sql_plus_requests/CREATE_UPLOAD_EXTERNAL_TABLE/CREATE_UPLOAD_EXTERNAL_TABLE.html" class="nav-list-link">CREATE UPLOAD EXTERNAL TABLE</a> </li><li class="nav-list-item "> <a href="https://datamarts.github.io/docs_prostore_archive/reference/sql_plus_requests/CREATE_VIEW/CREATE_VIEW.html" class="nav-list-link">CREATE VIEW</a> </li><li class="nav-list-item "> <a href="https://datamarts.github.io/docs_prostore_archive/reference/sql_plus_requests/DELETE/DELETE.html" class="nav-list-link">DELETE</a> </li><li class="nav-list-item "> <a href="https://datamarts.github.io/docs_prostore_archive/reference/sql_plus_requests/DENY_CHANGES/DENY_CHANGES.html" class="nav-list-link">DENY_CHANGES</a> </li><li class="nav-list-item "> <a href="https://datamarts.github.io/docs_prostore_archive/reference/sql_plus_requests/DROP_DATABASE/DROP_DATABASE.html" class="nav-list-link">DROP DATABASE</a> </li><li class="nav-list-item "> <a href="https://datamarts.github.io/docs_prostore_archive/reference/sql_plus_requests/DROP_DOWNLOAD_EXTERNAL_TABLE/DROP_DOWNLOAD_EXTERNAL_TABLE.html" class="nav-list-link">DROP DOWNLOAD EXTERNAL TABLE</a> </li><li class="nav-list-item "> <a href="https://datamarts.github.io/docs_prostore_archive/reference/sql_plus_requests/DROP_MATERIALIZED_VIEW/DROP_MATERIALIZED_VIEW.html" class="nav-list-link">DROP MATERIALIZED VIEW</a> </li><li class="nav-list-item "> <a href="https://datamarts.github.io/docs_prostore_archive/reference/sql_plus_requests/DROP_TABLE/DROP_TABLE.html" class="nav-list-link">DROP TABLE</a> </li><li class="nav-list-item "> <a href="https://datamarts.github.io/docs_prostore_archive/reference/sql_plus_requests/DROP_UPLOAD_EXTERNAL_TABLE/DROP_UPLOAD_EXTERNAL_TABLE.html" class="nav-list-link">DROP UPLOAD EXTERNAL TABLE</a> </li><li class="nav-list-item "> <a href="https://datamarts.github.io/docs_prostore_archive/reference/sql_plus_requests/DROP_VIEW/DROP_VIEW.html" class="nav-list-link">DROP VIEW</a> </li><li class="nav-list-item "> <a href="https://datamarts.github.io/docs_prostore_archive/reference/sql_plus_requests/GET_CHANGES/GET_CHANGES.html" class="nav-list-link">GET_CHANGES</a> </li><li class="nav-list-item "> <a href="https://datamarts.github.io/docs_prostore_archive/reference/sql_plus_requests/GET_DELTA_BY_DATETIME/GET_DELTA_BY_DATETIME.html" class="nav-list-link">GET_DELTA_BY_DATETIME</a> </li><li class="nav-list-item "> <a href="https://datamarts.github.io/docs_prostore_archive/reference/sql_plus_requests/GET_DELTA_BY_NUM/GET_DELTA_BY_NUM.html" class="nav-list-link">GET_DELTA_BY_NUM</a> </li><li class="nav-list-item "> <a href="https://datamarts.github.io/docs_prostore_archive/reference/sql_plus_requests/GET_DELTA_HOT/GET_DELTA_HOT.html" class="nav-list-link">GET_DELTA_HOT</a> </li><li class="nav-list-item "> <a href="https://datamarts.github.io/docs_prostore_archive/reference/sql_plus_requests/GET_DELTA_OK/GET_DELTA_OK.html" class="nav-list-link">GET_DELTA_OK</a> </li><li class="nav-list-item "> <a href="https://datamarts.github.io/docs_prostore_archive/reference/sql_plus_requests/GET_ENTITY_DDL/GET_ENTITY_DDL.html" class="nav-list-link">GET_ENTITY_DDL</a> </li><li class="nav-list-item "> <a href="https://datamarts.github.io/docs_prostore_archive/reference/sql_plus_requests/GET_WRITE_OPERATIONS/GET_WRITE_OPERATIONS.html" class="nav-list-link">GET_WRITE_OPERATIONS</a> </li><li class="nav-list-item "> <a href="https://datamarts.github.io/docs_prostore_archive/reference/sql_plus_requests/INSERT_INTO_download_external_table/INSERT_INTO_download_external_table.html" class="nav-list-link">INSERT INTO download_external_table</a> </li><li class="nav-list-item "> <a href="https://datamarts.github.io/docs_prostore_archive/reference/sql_plus_requests/INSERT_INTO_logical_table/INSERT_INTO_logical_table.html" class="nav-list-link">INSERT INTO logical_table</a> </li><li class="nav-list-item "> <a href="https://datamarts.github.io/docs_prostore_archive/reference/sql_plus_requests/RESUME_WRITE_OPERATION/RESUME_WRITE_OPERATION.html" class="nav-list-link">RESUME_WRITE_OPERATION</a> </li><li class="nav-list-item "> <a href="https://datamarts.github.io/docs_prostore_archive/reference/sql_plus_requests/ROLLBACK_CRASHED_WRITE_OPERATIONS/ROLLBACK_CRASHED_WRITE_OPERATIONS.html" class="nav-list-link">ROLLBACK CRASHED_WRITE_OPERATIONS</a> </li><li class="nav-list-item "> <a href="https://datamarts.github.io/docs_prostore_archive/reference/sql_plus_requests/ROLLBACK_DELTA/ROLLBACK_DELTA.html" class="nav-list-link">ROLLBACK DELTA</a> </li><li class="nav-list-item "> <a href="https://datamarts.github.io/docs_prostore_archive/reference/sql_plus_requests/SELECT/SELECT.html" class="nav-list-link">SELECT</a> </li><li class="nav-list-item "> <a href="https://datamarts.github.io/docs_prostore_archive/reference/sql_plus_requests/SELECT_FROM_INFORMATION_SCHEMA/SELECT_FROM_INFORMATION_SCHEMA.html" class="nav-list-link">SELECT FROM INFORMATION_SCHEMA</a> </li><li class="nav-list-item "> <a href="https://datamarts.github.io/docs_prostore_archive/reference/sql_plus_requests/TRUNCATE_HISTORY/TRUNCATE_HISTORY.html" class="nav-list-link">TRUNCATE HISTORY</a> </li><li class="nav-list-item "> <a href="https://datamarts.github.io/docs_prostore_archive/reference/sql_plus_requests/UPSERT_SELECT/UPSERT_SELECT.html" class="nav-list-link">UPSERT SELECT</a> </li><li class="nav-list-item "> <a href="https://datamarts.github.io/docs_prostore_archive/reference/sql_plus_requests/UPSERT_VALUES/UPSERT_VALUES.html" class="nav-list-link">UPSERT VALUES</a> </li><li class="nav-list-item "> <a href="https://datamarts.github.io/docs_prostore_archive/reference/sql_plus_requests/USE/USE.html" class="nav-list-link">USE</a> </li><li class="nav-list-item "> <a href="https://datamarts.github.io/docs_prostore_archive/reference/sql_plus_requests/USE_INFORMATION_SCHEMA/USE_INFORMATION_SCHEMA.html" class="nav-list-link">USE INFORMATION_SCHEMA</a> </li></ul></li><li class="nav-list-item "><a href="https://datamarts.github.io/docs_prostore_archive/reference/reserved_words/reserved_words.html" class="nav-list-link">Зарезервированные слова</a></li><li class="nav-list-item "><a href="https://datamarts.github.io/docs_prostore_archive/reference/sql_support/sql_support.html" class="nav-list-link">Поддержка SQL</a></li><li class="nav-list-item "><a href="https://datamarts.github.io/docs_prostore_archive/reference/path_to_kafka_topic/path_to_kafka_topic.html" class="nav-list-link">Формат пути к внешнему приемнику данных</a></li><li class="nav-list-item "><a href="https://datamarts.github.io/docs_prostore_archive/reference/upload_format/upload_format.html" class="nav-list-link">Формат загрузки данных</a></li><li class="nav-list-item "><a href="https://datamarts.github.io/docs_prostore_archive/reference/download_format/download_format.html" class="nav-list-link">Формат выгрузки данных</a></li><li class="nav-list-item "><a href="https://datamarts.github.io/docs_prostore_archive/reference/timestamp_formats/timestamp_formats.html" class="nav-list-link">Форматы даты и времени в запросах</a></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://datamarts.github.io/docs_prostore_archive/reference/supported_data_types/supported_data_types.html" class="nav-list-link">Поддерживаемые типы данных</a><ul class="nav-list"><li class="nav-list-item "> <a href="https://datamarts.github.io/docs_prostore_archive/reference/supported_data_types/logical_data_types/logical_data_types.html" class="nav-list-link">Логические типы данных</a> </li><li class="nav-list-item "> <a href="https://datamarts.github.io/docs_prostore_archive/reference/supported_data_types/upload_data_types/upload_data_types.html" class="nav-list-link">Загружаемые типы данных Avro</a> </li><li class="nav-list-item "> <a href="https://datamarts.github.io/docs_prostore_archive/reference/supported_data_types/download_data_types/download_data_types.html" class="nav-list-link">Выгружаемые типы данных Avro</a> </li></ul></li><li class="nav-list-item "><a href="https://datamarts.github.io/docs_prostore_archive/reference/system_views/system_views.html" class="nav-list-link">Системные представления (INFORMATION_SCHEMA)</a></li></ul></li><li class="nav-list-item"><a href="https://datamarts.github.io/docs_prostore_archive/resources/resources.html" class="nav-list-link">Ресурсы</a></li><li class="nav-list-item"><a href="https://datamarts.github.io/docs_prostore_archive/revision_history/revision_history.html" class="nav-list-link">История изменений</a></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Документация" aria-label="Search Документация" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> </div> <div id="main-content-wrap" class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="https://datamarts.github.io/docs_prostore_archive/reference/reference.html">Справочная информация</a></li> <li class="breadcrumb-nav-list-item"><a href="https://datamarts.github.io/docs_prostore_archive/reference/sql_plus_requests/sql_plus_requests.html">Запросы SQL+</a></li> <li class="breadcrumb-nav-list-item"><span>CHECK_SUM</span></li> </ol> </nav> <div id="main-content" class="main-content" role="main"> <h1 class="no_toc" id="check_sum"> <a href="#check_sum" class="anchor-heading" aria-labelledby="check_sum"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> CHECK_SUM </h1> <details> <summary class="text-delta"> Содержание раздела </summary> <ol id="markdown-toc"> <li><a href="#syntax" id="markdown-toc-syntax">Синтаксис</a></li> <li><a href="#restrictions" id="markdown-toc-restrictions">Ограничения</a></li> <li><a href="#examples" id="markdown-toc-examples">Примеры</a> <ol> <li><a href="#columns_example" id="markdown-toc-columns_example">Запрос по некоторым столбцам логической таблицы</a></li> <li><a href="#table_example" id="markdown-toc-table_example">Запрос по всем столбцам логической таблицы</a></li> <li><a href="#matview_example" id="markdown-toc-matview_example">Запрос по всем столбцам материализованного представления</a></li> <li><a href="#db_example" id="markdown-toc-db_example">Запрос по логической базе данных</a></li> <li><a href="#example_with_normalization" id="markdown-toc-example_with_normalization">Запрос по логической базе данных с коэффициентом нормализации</a></li> </ol> </li> <li><a href="#checksum_algorithms" id="markdown-toc-checksum_algorithms">Порядок расчета контрольных сумм</a> <ol> <li><a href="#algorithm_for_table" id="markdown-toc-algorithm_for_table">Расчет контрольной суммы по логической таблице (материализованному представлению)</a></li> <li><a href="#algorithm_for_db" id="markdown-toc-algorithm_for_db">Расчет контрольной суммы по логической базе данных</a></li> <li><a href="#example_for_table" id="markdown-toc-example_for_table">Пример расчета контрольной суммы по таблице</a></li> </ol> </li> </ol> </details> <p>Запрос позволяет рассчитать контрольную сумму данных в указанной <a href="/docs_prostore_archive/overview/main_concepts/delta/delta.html">дельте</a>. Дельта может быть любой: как закрытой, так и открытой (горячей).</p> <p>Расчет контрольной суммы возможен по следующим данным:</p> <ul> <li>отдельным столбцам <a href="/docs_prostore_archive/overview/main_concepts/logical_table/logical_table.html">логической таблицы</a> или <a href="/docs_prostore_archive/overview/main_concepts/materialized_view/materialized_view.html">материализованного представления</a>,</li> <li>всем столбцам логической таблицы или материализованного представления,</li> <li>всем логическим таблицам <a href="/docs_prostore_archive/overview/main_concepts/logical_db/logical_db.html">логической базы данных</a>.</li> </ul> <p class="tip-wrapper">При проверке по отдельным столбцам таблицы или представления рекомендуется включать первичный ключ в список проверяемых столбцов. Это позволит снизить вероятность получения одинаковых контрольных сумм по разным наборам данных.</p> <p>Контрольная сумма рассчитывается по каждой <a href="/docs_prostore_archive/introduction/supported_DBMS/supported_DBMS.html">СУБД</a> <a href="/docs_prostore_archive/overview/main_concepts/data_storage/data_storage.html">хранилища</a>, в которой размещаются данные проверяемой логической сущности. Расчет выполняется в порядке, описанном <a href="#checksum_algorithms">ниже</a>.</p> <p>Если контрольные суммы логической сущности различаются между СУБД хранилища, в ответе возвращается исключение <code class="language-sql highlighter-rouge"><span class="n">Consistency</span> <span class="n">breach</span> <span class="n">detected</span> <span class="k">for</span> <span class="o">&lt;</span><span class="n">entity_name</span><span class="o">&gt;</span></code> с перечислением контрольных сумм сущности во всех проверенных СУБД. При расчете контрольной суммы по логической БД система останавливает расчет и возвращает исключение при первом найденном расхождении.</p> <p>В ответе возвращается:</p> <ul> <li>объект ResultSet с одной записью, содержащей контрольную сумму данных, при успешном выполнении запроса и отсутствии расхождений между СУБД хранилища;</li> <li>исключение при наличии расхождений или неуспешном выполнении запроса.</li> </ul> <p class="note-wrapper">Значения типа FLOAT и DOUBLE могут иметь разные контрольные суммы из-за разницы в точности типов. Чтобы избежать расхождения в контрольных суммах, используйте для значений с плавающей точкой только тип DOUBLE (как более распространенный среди СУБД) или исключайте столбцы типа FLOAT и DOUBLE из запросов <code class="language-sql highlighter-rouge"><span class="n">CHECK_SUM</span></code>.</p> <h2 id="syntax"> <a href="#syntax" class="anchor-heading" aria-labelledby="syntax"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Синтаксис </h2> <div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">CHECK_SUM</span><span class="p">(</span><span class="n">delta_num</span><span class="p">[,</span> <span class="n">normalization</span><span class="p">][,</span> <span class="p">[</span><span class="n">db_name</span><span class="p">.]</span><span class="n">entity_name</span><span class="p">[,</span> <span class="n">square</span><span class="o">-</span><span class="n">bracketed_column_list</span><span class="p">]])</span>
</code></pre></div></div> <p>Параметры:</p> <ul> <li><code class="language-sql highlighter-rouge"><span class="n">delta_num</span></code> — номер открытой (горячей) или закрытой <a href="/docs_prostore_archive/overview/main_concepts/delta/delta.html">дельты</a>, в которой рассчитывается контрольная сумма таблицы, представления или логической БД. Если других аргументов в запросе нет, контрольная сумма рассчитывается по всем логическим таблицам логической БД;</li> <li><code class="language-sql highlighter-rouge"><span class="n">normalization</span></code> (опциональный) — коэффициент, который повышает максимально допустимое количество записей таблицы (или представления) в дельте, но снижает уникальность контрольных сумм. Может принимать любое положительное целочисленное значение, начиная с 1. Значение по умолчанию — 1. Если коэффициент не указан или равен 1, проверяемая таблица (представление) может содержать до <code class="language-sql highlighter-rouge"><span class="mi">4</span><span class="s1">'294'</span><span class="mi">967</span><span class="s1">'298</span></code> записей в дельте; при увеличении коэффициента допустимое количество записей увеличивается пропорционально. Если количество записей какой-либо таблицы (или представления) в дельте больше допустимого, в ответе возвращается исключение;</li> <li><code class="language-sql highlighter-rouge"><span class="n">entity_name</span></code> (опциональный) — имя логической таблицы или материализованного представления, по которым рассчитывается контрольная сумма;</li> <li><code class="language-sql highlighter-rouge"><span class="n">square</span><span class="o">-</span><span class="n">bracketed_column_list</span></code> (опциональный) — список имен столбцов указанной таблицы или представления, по которым рассчитывается контрольная сумма. Элементы списка перечисляются внутри квадратных скобок через запятую. Если список столбцов не указан, контрольная сумма рассчитывается по всем столбцам логической таблицы или материализованного представления.</li> </ul> <h2 id="restrictions"> <a href="#restrictions" class="anchor-heading" aria-labelledby="restrictions"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Ограничения </h2> <ul> <li>Контрольная сумма логической базы данных рассчитывается только по данным логических таблиц и не учитывает данные материализованных представлений.</li> <li>Существует математическая вероятность получения одинаковых контрольных сумм для разных наборов данных.</li> <li>Максимально допустимое количество записей таблицы (или представления) в дельте, для которых контрольная сумма рассчитывается корректно, пропорционально коэффициенту нормализации. Если коэффициент не указан или равен 1, каждая из проверяемых таблиц или представлений может содержать до <code class="language-sql highlighter-rouge"><span class="mi">4</span><span class="s1">'294'</span><span class="mi">967</span><span class="s1">'298</span></code> записей в дельте; при увеличении коэффициента допустимое количество записей также увеличивается.</li> </ul> <h2 id="examples"> <a href="#examples" class="anchor-heading" aria-labelledby="examples"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Примеры </h2> <h3 id="columns_example"> <a href="#columns_example" class="anchor-heading" aria-labelledby="columns_example"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Запрос по некоторым столбцам логической таблицы </h3> <p>Расчет контрольной суммы по трем столбцам таблицы <code class="language-sql highlighter-rouge"><span class="n">sales</span></code> в десятой дельте:</p> <div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">CHECK_SUM</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="n">sales</span><span class="p">.</span><span class="n">sales</span><span class="p">,[</span><span class="n">id</span><span class="p">,</span> <span class="n">transaction_date</span><span class="p">,</span> <span class="n">product_code</span><span class="p">])</span>
</code></pre></div></div> <p>На рисунках ниже показаны примеры ответов на запрос <code class="language-sql highlighter-rouge"><span class="n">CHECK_SUM</span></code> с перечислением столбцов: на первом — ответ при отсутствии расхождений в данных между СУБД хранилища, на втором — ответ при наличии расхождений.</p> <p class="figure-center"><img src="/docs_prostore_archive/reference/sql_plus_requests/CHECK_SUM/check_sum_for_table_columns.png" alt="" height="70%" width="70%" /></p> <p class="figure-caption-center"><em>Ответ CHECK_SUM по указанным столбцам таблицы при отсутствии расхождений</em></p> <p class="figure-center"><img src="/docs_prostore_archive/reference/sql_plus_requests/CHECK_SUM/check_sum_with_inconsistency.png" alt="" height="80%" width="80%" /></p> <p class="figure-caption-center"><em>Ответ CHECK_SUM при наличии расхождений</em></p> <h3 id="table_example"> <a href="#table_example" class="anchor-heading" aria-labelledby="table_example"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Запрос по всем столбцам логической таблицы </h3> <p>Расчет контрольной суммы по всей таблице <code class="language-sql highlighter-rouge"><span class="n">sales</span></code> в десятой дельте:</p> <div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">CHECK_SUM</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="n">sales</span><span class="p">.</span><span class="n">sales</span><span class="p">)</span>
</code></pre></div></div> <p>На рисунке ниже показан пример ответа на запрос <code class="language-sql highlighter-rouge"><span class="n">CHECK_SUM</span></code> по логической таблице.</p> <p class="figure-center"><img src="/docs_prostore_archive/reference/sql_plus_requests/CHECK_SUM/check_sum_for_table.png" alt="" height="26%" width="26%" /></p> <p class="figure-caption-center"><em>Ответ CHECK_SUM по логической таблице</em></p> <h3 id="matview_example"> <a href="#matview_example" class="anchor-heading" aria-labelledby="matview_example"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Запрос по всем столбцам материализованного представления </h3> <p>Расчет контрольной суммы по всему материализованному представлению <code class="language-sql highlighter-rouge"><span class="n">sales_by_stores</span></code> в десятой дельте:</p> <div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">CHECK_SUM</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="n">sales</span><span class="p">.</span><span class="n">sales_by_stores</span><span class="p">)</span>
</code></pre></div></div> <h3 id="db_example"> <a href="#db_example" class="anchor-heading" aria-labelledby="db_example"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Запрос по логической базе данных </h3> <p>Расчет контрольной суммы по всей логической базе данных <code class="language-sql highlighter-rouge"><span class="n">sales</span></code> в десятой дельте:</p> <div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- выбор логической базы данных sales в качестве базы данных по умолчанию</span>
<span class="n">USE</span> <span class="n">sales</span><span class="p">;</span>

<span class="c1">-- расчет контрольной суммы логической БД</span>
<span class="n">CHECK_SUM</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span>
</code></pre></div></div> <p>На рисунке ниже показан пример ответа на запрос <code class="language-sql highlighter-rouge"><span class="n">CHECK_SUM</span></code> по логической базе данных.</p> <p class="figure-center"><img src="/docs_prostore_archive/reference/sql_plus_requests/CHECK_SUM/check_sum_for_db.png" alt="" height="20%" width="20%" /></p> <p class="figure-caption-center"><em>Ответ CHECK_SUM по логической базе данных</em></p> <h3 id="example_with_normalization"> <a href="#example_with_normalization" class="anchor-heading" aria-labelledby="example_with_normalization"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Запрос по логической базе данных с коэффициентом нормализации </h3> <p>Расчет контрольной суммы по логической базе данных <code class="language-sql highlighter-rouge"><span class="n">sales</span></code> с коэффициентом нормализации, равным 100:</p> <div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- выбор логической базы данных sales в качестве базы данных по умолчанию</span>
<span class="n">USE</span> <span class="n">sales</span><span class="p">;</span>

<span class="c1">-- расчет контрольной суммы логической БД с указанным коэффициентом нормализации</span>
<span class="n">CHECK_SUM</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">100</span><span class="p">);</span>
</code></pre></div></div> <p>На рисунке ниже показан пример ответа на такой запрос.</p> <p class="figure-center"><img src="/docs_prostore_archive/reference/sql_plus_requests/CHECK_SUM/check_sum_for_db_with_normalization.png" alt="" height="80%" width="80%" /></p> <p class="figure-caption-center"><em>Запрос CHECK_SUM с коэффициентом нормализации</em></p> <h2 id="checksum_algorithms"> <a href="#checksum_algorithms" class="anchor-heading" aria-labelledby="checksum_algorithms"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Порядок расчета контрольных сумм </h2> <h3 id="algorithm_for_table"> <a href="#algorithm_for_table" class="anchor-heading" aria-labelledby="algorithm_for_table"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Расчет контрольной суммы по логической таблице (материализованному представлению) </h3> <p>Контрольная сумма логической таблицы или материализованного представления рассчитывается, <a href="/docs_prostore_archive/reference/sql_plus_requests/CHECK_DATA/CHECK_DATA.html#checksum">как описано в разделе CHECK_DATA</a>.</p> <h3 id="algorithm_for_db"> <a href="#algorithm_for_db" class="anchor-heading" aria-labelledby="algorithm_for_db"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Расчет контрольной суммы по логической базе данных </h3> <p>Контрольная сумма логической базы данных рассчитывается в следующем порядке:</p> <ol> <li>По каждой логической таблице логической БД рассчитывается контрольная сумма, <a href="/docs_prostore_archive/reference/sql_plus_requests/CHECK_DATA/CHECK_DATA.html#checksum">как описано в разделе CHECK_DATA</a>.</li> <li>Контрольные суммы всех логических таблиц суммируются — получается 64-битная контрольная сумма логической базы данных.</li> </ol> <h3 id="example_for_table"> <a href="#example_for_table" class="anchor-heading" aria-labelledby="example_for_table"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Пример расчета контрольной суммы по таблице </h3> <p>Рассмотрим пример расчета контрольной суммы по таблице <code class="language-sql highlighter-rouge"><span class="n">sales</span></code> в дельте, содержащей две операции записи. Для простоты примера по каждой из записей возьмем заранее рассчитанную 32-битную контрольную сумму: 165074672 (см. <a href="/docs_prostore_archive/reference/sql_plus_requests/CHECK_DATA/CHECK_DATA.html#checksum_example">пример расчета</a> в разделе <a href="/docs_prostore_archive/reference/sql_plus_requests/CHECK_DATA/CHECK_DATA.html">CHECK_DATA</a>) и 87891666.</p> <p>Контрольная сумма таблицы равна <code class="language-sql highlighter-rouge"><span class="mi">165074672</span> <span class="o">+</span> <span class="mi">87891666</span> <span class="o">=</span> <span class="mi">252966338</span></code>.</p> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
